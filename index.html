<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>J; Compiler</title>
  <style>
    body {
      font-family: monospace;
      background: #0f0f0f;
      color: #00ff9c;
      padding: 20px;
    }
    textarea {
      width: 100%;
      height: 200px;
      background: #111;
      color: #00ff9c;
      border: 1px solid #00ff9c;
      padding: 10px;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      background: #00ff9c;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    #screen {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #00ff9c;
      min-height: 100px;
    }
  </style>
</head>
<body>

<h1>J; Playground</h1>

<textarea id="code">
code.J;
show screen hi
nE/e: 8*9
show screen done
</textarea>

<br>
<button onclick="runJ()">Run J;</button>

<div id="screen"></div>
  
<details>
  <summary>Documentation</summary>
  J; syntax
To make the ide recognize the code, type, code.j;
  <br>
Putting information on the screen
  <br>
to put text onto the screen type, show screen X
  <br>
Putting information in the console
  <br>
to put text in the console type, show console X
  <br>


Variables
  <br>
this will be really simple because I do not see the point in having different types of variables
  <br>
to make a variable type, x=x

<br>
Loops
  <br>
to make a program repeat itself a set number of times type, loop x-(code, no parentheses needed)-
<br>
to make a program repeat itself a random number of times type, loop random-(code, no parentheses needed)-
<br>
to make a program repeat itself an infinite number of times type, loop infinite-(code, no parentheses needed)-


<br>
Functions
  <br>
to make a function type, make functionName-(parameters if any)- -code-

<br>
Comments
  <br>
to make a comment type, Comment: (your comment, no parentheses needed)-

<br>
Math
  <br>
to do basic operations type, nE/e: x*y=z (for multiplication), nE/e: x/y=z (for division), nE/e: x-y=z (for multiplication), x+y=z (for addition)
  <br>
nE/e stands for numericalExpression/equation

<br>
Conditionals
  <br>
to type a conditional type,
  <br>
if condition-(code if true)-
<br>
if condition-(code if true)-else-(code if fals
</details>
  
<script>
function runJ() {
  const input = document.getElementById("code").value.split("\n");
  const screen = document.getElementById("screen");
  screen.innerHTML = "";

  let vars = {};
  let started = false;

  for (let rawLine of input) {
    let line = rawLine.trim();
    if (line === "") continue;

    // Header
    if (!started) {
      if (line === "code.J;") {
        started = true;
        continue;
      } else {
        screen.innerHTML = "❌ Missing code.J; header";
        return;
      }
    }

    // Comment
    if (line.startsWith("Comment:")) continue;

    // show screen
    if (line.startsWith("show screen")) {
      let text = line.replace("show screen", "").trim();
      screen.innerHTML += text + "<br>";
      continue;
    }

    // show console
    if (line.startsWith("show console")) {
      let text = line.replace("show console", "").trim();
      console.log(text);
      continue;
    }

    // Math expression
    if (line.startsWith("nE/e:")) {
      let expr = line.replace("nE/e:", "").trim();
      try {
        let result = eval(expr);
        screen.innerHTML += result + "<br>";
      } catch {
        screen.innerHTML += "❌ Math error<br>";
      }
      continue;
    }

    // Variable assignment
    if (line.includes("=")) {
      let parts = line.split("=");
      let name = parts[0].trim();
      let value = parts[1].trim();

      if (!isNaN(value)) {
        vars[name] = Number(value);
      } else {
        vars[name] = value;
      }
      continue;
    }

    // Unknown command
    screen.innerHTML += "❌ Unknown command: " + line + "<br>";
  }
}
</script>

</body>
</html>
